{% extends "layout.html" %}

{% block title %}
    {{ title|safe }}
{% endblock %}

{% block main %}
    <form action="/search" method="post">
        <div class="row">
            <div class="form-group col-9">
                <input class="form-control" type="text" maxlength="250" id="keyword" name="keyword" style="width:100%" placeholder="Search Bibli-O ...">
            </div>
            <div class="form-group col-3">
                <button class="btn btn-dark" type="submit" style="width:100%">Go!</button>
            </div>
        </div>
    </form>
    <br>
    <div class="booktitle">
        <div class="row">
            <div class="col-6 booktitlecolumn">
                <br>
                <h5>
                    {{ title|safe }}
                </h5>
                <br>
                <p>{{ author|safe }}</p>
                <p>{{ year|safe }}</p>
                <p>ISBN: {{ isbn|safe }}</p>
            </div>
            <div class="col-6">
                <br>
                <table class="bookratingstable">
                    <tr>
                        <th colspan="2">
                            Bibli-O
                        </th>
                    </tr>
                    <tr>
                        <td>
                            Rated: <b>{{ bavgrating|safe }}</b>
                        </td>
                        <td>
                            Ratings: <b>{{ bnumrating|safe }}</b>
                        </td>
                    </tr>
                </table>
                <br>
                <table class="bookratingstable">
                    <tr>
                        <th colspan="2">
                            Goodreads
                        </th>
                    </tr>
                    <tr>
                        <td>
                            Rated: <b>{{ gavgrating|safe }}</b>
                        </td>
                        <td>
                            Ratings: <b>{{ gnumrating|safe }}</b>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <br>
    <h5>
        Review This Book
    </h5>
    <p><i>Login required!</i></p>
    <div class="submitreviewbox">
        <div class="row">
            <div class="col-5">
                <form action="/review" method="post" id="review">
                    <div class="form-group">
                        <label for="rating"><b>Rating</b></label><br>
                        <select name="rating" class="form-control">
                            <option value="5">5</option>
                            <option value="4">4</option>
                            <option value="3">3</option>
                            <option value="2">2</option>
                            <option value="1">1</option>
                        </select>
                        <input type="hidden" id="book_id" name="book_id" value={{ book_id }}>
                    </div>
                </form>
                <button form="review" class="btn btn-dark" type="submit">Submit</button>
            </div>
            <div class="col-7">
                <textarea class="form-control" maxlength="1000" name="description" form="review" style="width: 100%; max-width: 100%; height: 100%; max-height: 100%" placeholder="What did you think? ..."></textarea>
            </div>
        </div>
        
    </div>
    <br>
    <table>
        {{ table_data|safe }}
    </table>
{% endblock %}